---
import Button from "@/components/ui/button.astro";
const { headings } = Astro.props;
---

<div class="sticky top-24 mx-auto">
  <h3 class="text-xl font-semibold mb-4">On this page</h3>
  <ul class="space-y-2 text-sm text-muted-foreground border-l border-border/40">
    {
      headings.map(
        (heading: any) =>
          heading.depth < 4 && (
            <li class="border-l-2 border-transparent hover:border-accent">
              <Button
                href={`#${heading.slug}`}
                variant="ghost"
                size="sm"
                class="w-full justify-start overflow-hidden rounded-none whitespace-normal"
              >
                {heading.text}
              </Button>
            </li>
          ),
      )
    }
  </ul>
</div>
